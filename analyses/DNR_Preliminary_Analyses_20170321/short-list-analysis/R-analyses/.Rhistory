area.protID2 <- stressProteins[-1]
rownames(area.protID2) <- stressProteins[,1]
#Transpose the file so that rows and columns are switched and normalized by log(x+1)
area.t <- t(area.protID2[,1:10])
area.tra <- (area.t+1)
area.tra <- data.trans(area.tra, method = 'log', plot = FALSE)
source("/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/biostats.R")
install.packages("vegan") #Install vegan package
library(vegan)
#Step 1: Import data
stressProteins <- read.table("/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/short-list-analysis/nmds-heatmap-short-list.txt", header = TRUE, na.strings = "NA")
stressProteins[is.na(stressProteins)] <- 0 #Replace NAs with 0s
stressProteins #Confirm changes
of values
area.protID2 <- stressProteins[-1]
rownames(area.protID2) <- stressProteins[,1]
#Transpose the file so that rows and columns are switched and normalized by log(x+1)
area.t <- t(area.protID2[,1:10])
area.tra <- (area.t+1)
area.tra <- data.trans(area.tra, method = 'log', plot = FALSE)
install.packages("pheatmap")
library(pheatmap)
#Data should be log(x) or log(x+1) transformed for this analysis, so I'll use my area.tra dataset.
#Create heatmap
pheatmap(area.tra, cluster_rows = T, cluster_cols = T, clustering_distance_rows = 'euclidean', clustering_distance_cols = 'euclidean', clustering_method = 'average', show_rownames = T, show_colnames = T)
png(filename = "/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/short-list-analysis/R-analyses/preliminaryHeatmap.png")
pheatmap(area.tra, cluster_rows = T, cluster_cols = T, clustering_distance_rows = 'euclidean', clustering_distance_cols = 'euclidean', clustering_method = 'average', show_rownames = T, show_colnames = F)
dev.off()
png(filename = "/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/short-list-analysis/R-analyses/subsetHeatmap.png")
pheatmap(area.tra, cluster_rows = T, cluster_cols = T, clustering_distance_rows = 'euclidean', clustering_distance_cols = 'euclidean', clustering_method = 'average', show_rownames = T, show_colnames = F)
dev.off()
?png
#Export preliminary heatmap as a .png
png(filename = "/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/short-list-analysis/R-analyses/subsetHeatmap.png", width = 8, height = 8, units = "in")
pheatmap(area.tra, cluster_rows = T, cluster_cols = T, clustering_distance_rows = 'euclidean', clustering_distance_cols = 'euclidean', clustering_method = 'average', show_rownames = T, show_colnames = T)
dev.off()
png(filename = "/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/short-list-analysis/R-analyses/subsetHeatmap.png", width = 8, height = 8, units = "in")
pheatmap(area.tra, cluster_rows = T, cluster_cols = T, clustering_distance_rows = 'euclidean', clustering_distance_cols = 'euclidean', clustering_method = 'average', show_rownames = T, show_colnames = T)
dev.off()
pheatmap(area.tra, cluster_rows = T, cluster_cols = T, clustering_distance_rows = 'euclidean', clustering_distance_cols = 'euclidean', clustering_method = 'average', show_rownames = T, show_colnames = T)
png(filename = "/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/short-list-analysis/R-analyses/subsetHeatmap.png", width = 8, height = 8, units = "in")
png(filename = "/Users/yaamini/Documents/project-oyster-oa/analyses/DNR_Preliminary_Analyses_20170321/short-list-analysis/R-analyses/subsetHeatmap.png", width = 8, height = 8, units = "in", res = 300)
pheatmap(area.tra, cluster_rows = T, cluster_cols = T, clustering_distance_rows = 'euclidean', clustering_distance_cols = 'euclidean', clustering_method = 'average', show_rownames = T, show_colnames = T)
dev.off()
